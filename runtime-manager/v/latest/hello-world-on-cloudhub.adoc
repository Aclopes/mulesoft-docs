= Hello World on CloudHub
:keywords: cloudhub, tutorial, connectors, arm, runtime manager

image:logo-cloud-active.png[link="/runtime-manager/deployment-strategies", title="CloudHub"]
image:logo-hybrid-disabled.png[link="/runtime-manager/deployment-strategies", title="Hybrid Deployment"]
image:logo-server-disabled.png[link="/runtime-manager/deployment-strategies", title="Anypoint Platform On-Premises"]
image:logo-pcf-disabled.png[link="/runtime-manager/deployment-strategies", title="Pivotal Cloud Foundry"]

This tutorial covers how to create an Anypoint Platform organization, how to modify a Mule project to make it CloudHub-ready and then how to deploy it to the cloud via the Anypoint Platform, via Anypoint Studio. It also includes a section on how to do the same via the command line.


Completing this tutorial should take about 20 minutes. You will accomplish the following:

* Create an account and organization in the Anypoint Platform
* Optionally modify a simple hello world example mule application so that it runs on CloudHub
* Upload, deploy, and run a Mule project

[TIP]
Take a look at link:/runtime-manager/deployment-strategies[Deployment Strategies] and link:/runtime-manager/cloudhub[CloudHub] so that you're familiar with what CloudHub is vs other alternatives for deploying your Mule applications.

== Create an Anypoint Platform Organization

To deploy applications to CloudHub, you first need to create an account and organization in the Anypoint Platform. After you've created your account, you can use CloudHub for one month with a single resource unit, or "worker". If you need additional resources or would like to continue using CloudHub, you can sign up for a paid subscription.


. Go to link:https://anypoint.mulesoft.com[https://anypoint.mulesoft.com] to create a new account in a new organization. Otherwise, if you want your account to be part of an existing organization, ask the administrator or that organization to invite you and create your account through the link she sends to you.
. Enter your information, choose a username and password, and click *Create account*. Your new user account is now created, if you aren't joining an existing organization, then a new organization is created too and your user is made its administrator.


== CloudHub Compatibility

Any application that includes HTTP connectors needs to follow a couple of configuration guidelines to be deployable to CloudHub:

* The *host* must always be `0.0.0.0`.
* The *port* must always be the placeholder `${http.port}`, so that CloudHub can dynamically allocate the application at deployment time.

[TIP]
See link:/runtime-manager/developing-a-cloudhub-application[Developing a CloudHub Application] for more details.

Therefore, the simple link:_attachments/basic-tutorial.zip[Hello World project] that you build in the link:/getting-started/build-a-hello-world-application[Build a Hello World Mule Application] tutorial needs to be tweaked before you can deploy it to CloudHub.

You can either:

* Take the original link:_attachments/basic-tutorial.zip[Hello World project] and modify it yourself, following the steps in the next sub-section, or
* Skip the next sub-section, and download the modified CloudHub-ready Hello World project that already includes these changes, by clicking link:_attachments/basic-tutorial-cloudhub.zip[here].

=== Edit the Hello World Tutorial for CloudHub

As the application built on the link:/getting-started/build-a-hello-world-application[How to Create a Mule App] needs some slight adjustments to be able to run on CloudHub, you must modify its HTTP connector so that:

* Its host is set to `0.0.0.0`
* Its port is set to the property `${http.port}`

To change this, you must:

. If you've created the hello world example yourself by following the tutorial, then you should already have this in an Anypoint Studio project; open it. Otherwise, download the link:_attachments/basic-tutorial.zip[Hello World project] and then import it into Anypoint Studio as a *general deployable archive*.

+
[TIP]
See link:/anypoint-studio/v/6/importing-and-exporting-in-studio#importing-projects-into-studio[Importing into Studio] for more detailed instructions.

. Once you've opened the project, find the *HTTP Connector* in the flow and click it to view its properties editor
+
image:http1.png[http1]

. Click the green plus sign next to the *Connector Configuration* field to open its global element settings.
. Edit the *Host* and *Port* fields:
** Set the *Host* to `0.0.0.0.`
** Set the *Port* to: `${http.port}`

+
[%header,cols="30a,70a"]
|===
| Field | Value
|*Name* |`HTTP_Listener_Configuration`
|*Host* |`0.0.0.0`
|*Port* |`${http.port}`
|===


. Click *Ok* to close this dialog.

+
[NOTE]
====
*Optional step: to Deploy Your App Anywhere*

Because you've put a link:/mule-user-guide/v/3.8/configuring-properties[property placeholder] in the *Port* field, your app is now compatible with CloudHub, but not with other link:d/runtime-manager/deployment-strategies[Deployment Strategies].

CloudHub dynamically allocates a value to this property at deploy time, but for other deployment strategies you need to assign it a default concrete value. To do so, you must edit the `mule-app.properties` file, found in the *src/main/app* folder of your project.

. In your Package Explorer (on the left of the Studio screen), open the node *src/main/app*.
. Double-click the `mule-app.properties` file to open it.
. In this file, type in the line `http.port=8081` and save it.
====

. Save your changes on the project.

+
[NOTE]
====
*Optional step: export project*

If you want to deploy your project via the Anypoint Platform, you'll first have to export your project to a deployable .zip file. To do so, go to *File > Export* and then select *Anypoint Studio Project to Mule Deployable Archive*. See link:/anypoint-studio/v/6/importing-and-exporting-in-studio#exporting-projects-from-studio[Exporting from Studio] for more detailed instructions.
====

== Accessing the Deployment Menu

There are two different ways to reach the deployment menu: via Anypoint Platform and via Anypoint Studio. Both alternatives display the same menu with the same options.


=== Via Anypoint Platform

. Log into your Anypoint Platform account. You'll be directed to the landing page.

+
image:hello-world-on-cloudhub-6df18.png[]

. Click the *Runtime Manager* link to reach the Runtime Manager dashboard.

. On the *Aplications tab* (selected by default), Click *Deploy application*.
+
image:hello-world-on-cloudhub-45c14.png[]

+
This opens the deployment menu, see <<Deploying Your Project>>.


=== Via Anypoint Studio

. Right-click on the project node, `basic_tutorial` in the Package Explorer, and then select *CloudHub* > *Deploy to Anypoint Platform > Cloud*.
+
image:deploy+to+cloudhub.png[deploy+to+cloudhub]
+
. If this is your first time deploying in this way, a popup menu asks you to provide your login credentials for the Anypoint Platform. Studio stores your credentials and uses them automatically the next time you deploy to CloudHub.
+
[TIP]
You can manage these credentials through the Studio *Preferences* menu, in *Anypoint Studio* > *Authentication*.
+
This opens the deployment menu, see <<Deploying Your Project>>.


== Deploying Your Project

. Choose a unique domain under which to deploy the application, for example *helloworld*.
+
The domain name can be up to 42 characters. A green confirmation check mark is displayed.
. Select a *Mule Version* and environment, such as PRODUCTION, or accept the defaults.
. Change the Mule *Runtime* value to *3.7.0* or newer.
. Click *Deploy Application*.
+
image:studio+to+cloudhub2-1.png[studio+to+cloudhub2-1]
+
. Anypoint Studio packages, uploads, and deploys your application to CloudHub.

[TIP]
For more details about the different deployment options, see link:/runtime-manager/deploying-to-cloudhub[Deploying to CloudHub].

== Running Your App


Once the deployment is complete (which could take a few minutes), browse to the URL of *_yourdomain_.cloudhub.io*. In this example, it's `helloworldtest.cloudhub.io`. You should see the text "Hello World!"; recall the application sets the payload to that string and returns this as the response via the HTTP connector.
+
image:CH_HelloWorld_displayed-1.png[CH_HelloWorld_displayed-1]
+
[TIP]
Visit link:https://anypoint.mulesoft.com/[https://anypoint.mulesoft.com] to manage your application through the Runtime Manager, access its dashboard, view logs and alerts, and more.

You have now successfully deployed a Mule application to your new Anypoint Platform account!



== Deploying via the Command Line

This section explains how to perform the same actions as shown above, but all via the CloudHub CLI (Command Line Utility).

Before starting, make sure you link:https://www.mulesoft.com/platform/saas/cloudhub-ipaas-cloud-based-integration[enable CloudHub access] on your Anypoint Platform account.

[TIP]
You can see a reference to a full list of CLI commands for Anypoint Platform link:/runtime-manager/anypoint-platform-cli[here]

. If you've built or <<modified, Edit the Hello World Tutorial for CloudHub>> the project in Anypoint Studio, export it as a Mule deployable archive `.zip` (see link:/anypoint-studio/v/6/importing-and-exporting-in-studio[Exporting Projects from Studio]). You can also download a CloudHub-compatible version from * Skip the next sub-section, and download the modified CloudHub-ready Hello World project that already includes these changes, by clicking link:_attachments/basic-tutorial-cloudhub.zip[here].

. If you do not already have access to the Anypoint-CLI command line tool, follow the brief link:/runtime-manager/anypoint-platform-cli#installation[Anypoint Platform CLI installation instructions].
. Log into your Anypoint Platform account from the command line, providing your username: `anypoint-cli --username="user"`. Next you enter your password.
. Use the `runtime-mgr application deploy` command providing the *name* of the app and the *location* of the deployable archive (`.zip`) file on your file system, for example:
+
----
runtime-mgr application deploy helloworldtest /Users/exported-app-folder/hello-world.zip
----
+
. If there are no issues with the name, location or any optional parameters provided, you should see a table like this:
+
----
Deploying helloworldtest ...
┌──────────────────────────────┬─────────────────────────────────────────────────────────┐
│ Domain                       │ helloworldtest.cloudhub.io                              │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Status                       │ UNDEPLOYED                                              │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Updated                      │ a few seconds ago                                       │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Runtime                      │ 3.8.2                                                   │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ File name                    │ hello-world.zip                                         │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Persistent queues            │ false                                                   │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Persistent queues encrypted  │ false                                                   │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Static IPs enabled           │ false                                                   │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Monitoring                   │ Enabled. Will auto restart when not responding          │
├──────────────────────────────┼─────────────────────────────────────────────────────────┤
│ Workers                      │ 1 vCore * 1                                             │
----

+
Congratulations, your app is now deployed on CloudHub!

=== Interacting via the CLI

The steps below explain how to interact with an app that you already deployed via the Command Line Utility.

. On a browser, enter the domain of your deployed app, which you can find in the response to your deploy command. In this example, that would be `helloworldtest.cloudhub.io`. Your browser should display the text "Hello World!"; recall that the application sets the payload to that string and then returns it as the response via the HTTP connector.
. To stop the app, on the command line type `runtime-mgr application stop <app-name>`.
. You can exit the command line tool by hitting `ctrl + c` twice.

For more information on this or other commands see link:/runtime-manager/anypoint-platform-cli[Anypoint Platform CLI].

[TIP]
Applications that have been deployed via the command line are visible in the link:/runtime-manager/managing-deployed-applications[Runtime Manager console] just like any other application. You can manage the app from there too.



== See Also

* link:/runtime-manager/deploying-to-cloudhub[Deploy to CloudHub]
* Learn the link:/anypoint-studio/v/6/[Anypoint Studio Essentials].
* link:/runtime-manager/developing-a-cloudhub-application[Developing a CloudHub Application]
* link:/runtime-manager/deployment-strategies[Deployment Strategies]
* link:/runtime-manager/managing-deployed-applications[Managing Deployed Applications]
* link:/runtime-manager/managing-cloudhub-applications[Managing CloudHub Applications]
* Read more about what link:/runtime-manager/cloudhub[CloudHub] is and what features it has
* link:/runtime-manager/cloudhub-architecture[CloudHub architecture]
* link:/runtime-manager/monitoring[Monitoring Applications]
* link:/runtime-manager/cloudhub-fabric[CloudHub Fabric]
* link:/runtime-manager/managing-queues[Managing Queues]
* link:/runtime-manager/managing-schedules[Managing Schedules]
* link:/runtime-manager/managing-application-data-with-object-stores[Managing Application Data with Object Stores]
* link:/runtime-manager/anypoint-platform-cli[Command Line Tools]
* link:/runtime-manager/secure-application-properties[Secure Application Properties]
* link:/runtime-manager/virtual-private-cloud[Virtual Private Cloud]
* link:/runtime-manager/penetration-testing-policies[Penetration Testing Policies]
