:toc:               left
:toc-title:         Email Connector
:toclevels:         2
:last-update-label!:
:docinfo:
:source-highlighter: coderay
:icons: font


= Email Connector Documentation Reference

+++
Connector to send and list email messages to and from mailboxes
+++


== Configurations
---
[[imap]]
=== IMAP

+++
Configuration for operations that are performed through the IMAP (Internet Message Access Protocol) protocol.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Connection a| * <<imap_imap, IMAP Connection>> {nbsp}
* <<imap_imaps, IMAPS Connection>> {nbsp}
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
| Eagerly Fetch Content a| Boolean |  +++Indicates whether the retrieved emails should be opened and read. The default value is "true".+++ |  +++true+++ | {nbsp}
|======================

==== Connection Types
[[imap_imap]]
===== IMAP Connection

+++
A ConnectionProvider that returns instances of imap based MailboxConnections.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '993' by default.+++ |  +++993+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================
[[imap_imaps]]
===== IMAPS Connection

+++
A ConnectionProvider that returns instances of imaps (secure) based MailboxConnections.
<p>
The returned connection is secured by TLS.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '993' by default.+++ |  +++993+++ | {nbsp}
| TLS Configuration a| <<Tls>> |  +++A factory for TLS contexts. A TLS context is configured with a key store and a trust store. Allows to create a TLS secured
connections.+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================

==== Associated Operations
* <<delete>> {nbsp}
* <<expungeFolder>> {nbsp}
* <<listImap>> {nbsp}
* <<markAsDeleted>> {nbsp}
* <<markAsRead>> {nbsp}
* <<store>> {nbsp}


---
[[pop3]]
=== POP3

+++
Configuration for operations that are performed through the POP3 (Post Office Protocol 3) protocol.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Connection a| * <<pop3_pop3, POP3 Connection>> {nbsp}
* <<pop3_pop3s, POP3S Connection>> {nbsp}
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
|======================

==== Connection Types
[[pop3_pop3]]
===== POP3 Connection

+++
A ConnectionProvider that returns instances of pop3 based MailboxConnections.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '110' by default.+++ |  +++110+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================
[[pop3_pop3s]]
===== POP3S Connection

+++
A ConnectionProvider that returns instances of pop3s (secured) based MailboxConnections.
<p>
The returned connection is secured by TLS.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '995' by default.+++ |  +++995+++ | {nbsp}
| TLS Configuration a| <<Tls>> |  +++A factory for TLS contexts. A TLS context is configured with a key store and a trust store. Allows to create a TLS secured
connections.+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================

==== Associated Operations
* <<listPop3>> {nbsp}


---
[[smtp]]
=== SMTP

+++
Configuration for operations that are performed through the SMTP (Simple Mail Transfer Protocol) protocol.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Connection a| * <<smtp_smtp, SMTP Connection>> {nbsp}
* <<smtp_smtps, SMTPS Connection>> {nbsp}
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
| From a| String |  +++The "From" sender address. The person that is going to send the messages.+++ |  | {nbsp}
| Default Encoding a| String |  +++Default character encoding to be used in all the messages. If not specified, the default charset in the mule configuration
will be used+++ |  | {nbsp}
| Default Content Transfer Encoding a| String |  |  | {nbsp}
|======================

==== Connection Types
[[smtp_smtp]]
===== SMTP Connection

+++
A ConnectionProvider that returns instances of smtp based SenderConnections.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '25' by default.+++ |  +++25+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================
[[smtp_smtps]]
===== SMTPS Connection

+++
A ConnectionProvider that returns instances of smtps based MailboxConnections.
<p>
The returned connection is secured by TLS.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '465' by default.+++ |  +++465+++ | {nbsp}
| TLS Configuration a| <<Tls>> |  +++A factory for TLS contexts. A TLS context is configured with a key store and a trust store. Allows to create a TLS secured
connections.+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================

==== Associated Operations
* <<send>> {nbsp}



== Operations

[[delete]]
=== Delete
`<http://www.mulesoft.org/schema/mule/email:delete>`

+++
Eliminates from the mailbox the email with id emailId.
<p>
For IMAP mailboxes all the messages scheduled for deletion (marked as DELETED) will also be erased from the folder.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be deleted+++ |  +++INBOX+++ | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to delete.+++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:EMAIL_NOT_FOUND {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[expungeFolder]]
=== Expunge Folder
`<http://www.mulesoft.org/schema/mule/email:expunge-folder>`

+++
Eliminates from the mailbox all the messages scheduled for deletion with the DELETED flag set.
deleted
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails with the 'DELETED' flag are going to be scheduled to be definitely+++ |  +++INBOX+++ | {nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[listImap]]
=== List Imap
`<http://www.mulesoft.org/schema/mule/email:list-imap>`

+++
List all the emails (with pagination) in the configured imap mailBoxFolder that match with the specified imapMatcher
criteria.
it's corresponding IMAPEmailAttributes.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be fetched+++ |  +++INBOX+++ | {nbsp}
| Match with a| <<imap-matcher>> |  +++Email Matcher which gives the capability of filter the retrieved emails+++ |  | {nbsp}
| Delete After Retrieve a| Boolean |  +++Specifies if the returned emails must be deleted after being retrieved or not.+++ |  +++false+++ | {nbsp}
| Output Type a| Enumeration, one of:

** STRING
** MULTIPART
** ANY |  |  +++ANY+++ | {nbsp}
| Page Size a| Number |  |  +++10+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-iterable>>
* <<repeatable-file-store-iterable>>
* <<non-repeatable-iterable>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of Message of [Any] payload and [<<IMAPEmailAttributes>>] attributes
|======================

==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[markAsDeleted]]
=== Mark As Deleted
`<http://www.mulesoft.org/schema/mule/email:mark-as-deleted>`

+++
Marks an incoming email as DELETED, this way the marked email(s) are scheduled for deletion when the folder closes, this
means that the email is not physically eliminated from the mailbox folder, but it's state changes.
<p>
All DELETED marked emails are going to be eliminated from the mailbox when one of
IMAPOperations#expungeFolder(MailboxConnection, String) or
IMAPOperations#delete(MailboxConnection, String, long) is executed.
<p>
This operation targets a single email.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be marked as deleted+++ |  +++INBOX+++ | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to mark as deleted.+++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:EMAIL_NOT_FOUND {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[markAsRead]]
=== Mark As Read
`<http://www.mulesoft.org/schema/mule/email:mark-as-read>`

+++
Marks a single email as READ changing it's state in the specified mailbox folder.
<p>
This operation can targets a single email.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Folder where the emails are going to be marked as read+++ |  +++INBOX+++ | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to mark as read.+++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:EMAIL_NOT_FOUND {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[store]]
=== Store
`<http://www.mulesoft.org/schema/mule/email:store>`

+++
Stores the specified email of id emailId into the configured localDirectory.
<p>
The emails are stored as mime message in a ".txt" format.
<p>
The name of the email file is composed by the subject and the received date of the email.
the end.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Local Directory a| String |  +++Local directory where the emails are going to be stored.+++ |  | *x*{nbsp}
| Mailbox Folder a| String |  +++Name of the folder where the email(s) is going to be stored.+++ |  +++INBOX+++ | {nbsp}
| File Name a| String |  +++Name of the file that is going to be stored. The operation will append the email number and received date in+++ |  | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to store.+++ |  | *x*{nbsp}
| Should Overwrite a| Boolean |  +++Whether to overwrite a file that already exist+++ |  +++false+++ | {nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[listPop3]]
=== List Pop3
`<http://www.mulesoft.org/schema/mule/email:list-pop3>`

+++
List all the emails (with pagination) in the configured pop3 mailBoxFolder that match with the specified pop3Matcher
criteria.
<p>
As the POP3 protocol does not support the capability to find specific emails from its UID in a folder to move/delete it. a
parameter deleteAfterRetrieve is available for deleting the emails from the server right after being retrieved.
it's corresponding IMAPEmailAttributes.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be fetched+++ |  +++INBOX+++ | {nbsp}
| Match with a| <<pop3-matcher>> |  +++Email Matcher which gives the capability of filter the retrieved emails+++ |  | {nbsp}
| Delete After Retrieve a| Boolean |  +++Specifies if the returned emails must be deleted after being retrieved or not.+++ |  +++false+++ | {nbsp}
| Output Type a| Enumeration, one of:

** STRING
** MULTIPART
** ANY |  |  +++ANY+++ | {nbsp}
| Page Size a| Number |  |  +++10+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-iterable>>
* <<repeatable-file-store-iterable>>
* <<non-repeatable-iterable>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of Message of [Any] payload and [<<POP3EmailAttributes>>] attributes
|======================

==== For Configurations.
* <<pop3>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[send]]
=== Send
`<http://www.mulesoft.org/schema/mule/email:send>`

+++
Sends an email message. The message will be sent to all recipient toAddresses, ccAddresses,
bccAddresses specified in the message.
<p>
The content of the message aims to be some type of text (text/plan, text/html) and its composed by the body and it's content
type. If no content is specified then the incoming payload it's going to be converted into plain text if possible.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| From Address a| String |  +++The "From" sender address. The person that is going to send the messages,
if not set, it defaults to the from address specified in the config.+++ |  | {nbsp}
| To Addresses a| Array of String |  +++The recipient addresses of "To" (primary) type.+++ |  | *x*{nbsp}
| Cc Addresses a| Array of String |  +++The recipient addresses of "Cc" (carbon copy) type+++ |  | {nbsp}
| Bcc Addresses a| Array of String |  +++The recipient addresses of "Bcc" (blind carbon copy) type+++ |  | {nbsp}
| Reply To Addresses a| Array of String |  +++The email addresses to which this email should be replied.+++ |  | {nbsp}
| Subject a| String |  +++The subject of the email.+++ |  +++[No Subject]+++ | {nbsp}
| Headers a| Object |  +++The headers that this email carry.+++ |  | {nbsp}
| Content a| Binary |  +++Text body of the message. Aims to be text in any format+++ |  +++#[payload]+++ | {nbsp}
| ContentType a| String |  +++ContentType of the body text. Example: "text/plain".+++ |  | {nbsp}
| Encoding a| String |  +++The character encoding of the body. If it is configured, it overrides the one inferred from the body.+++ |  | {nbsp}
| Content Transfer Encoding a| String |  +++Encoding used to indicate the type of transformation that has been used in order to represent the body in an
acceptable manner for transport. The value is case insensitive.
<p>
Known encodings:
<ul>
<li>BASE64</li>
<li>QUOTED-PRINTABLE</li>
<li>8BIT</li>
<li>7BIT</li>
<li>BINARY</li>
</ul>+++ |  +++Base64+++ | {nbsp}
| Attachments a| Object |  +++The attachments for an Email, that will be sent along the email body.+++ |  | {nbsp}
| Content Transfer Encoding a| String |  +++Encoding used to indicate the type of transformation that has been used in order to represent the body in an
acceptable manner for transport. The value is case insensitive.
<p>
Known encodings:
<ul>
<li>BASE64</li>
<li>QUOTED-PRINTABLE</li>
<li>8BIT</li>
<li>7BIT</li>
<li>BINARY</li>
</ul>+++ |  +++Base64+++ | {nbsp}
|======================


==== For Configurations.
* <<smtp>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ATTACHMENT {nbsp}
* EMAIL:CONNECTIVITY {nbsp}



== Types
[[reconnect]]
=== Reconnect

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Frequency a| Number | 
| Count a| Number | 
| Blocking a| Boolean | 
|======================
    
[[reconnect-forever]]
=== Reconnect Forever

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Frequency a| Number | 
|======================
    
[[PoolingProfile]]
=== Pooling Profile

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Max Active a| Number | 
| Max Idle a| Number | 
| Max Wait a| Number | 
| Min Eviction Millis a| Number | 
| Eviction Check Interval Millis a| Number | 
| Exhausted Action a| Enumeration, one of:

** WHEN_EXHAUSTED_GROW
** WHEN_EXHAUSTED_WAIT
** WHEN_EXHAUSTED_FAIL | 
| Initialisation Policy a| Enumeration, one of:

** INITIALISE_NONE
** INITIALISE_ONE
** INITIALISE_ALL | 
| Disabled a| Boolean | 
|======================
    
[[Tls]]
=== Tls

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Enabled Protocols a| String | 
| Enabled Cipher Suites a| String | 
| Trust Store a| <<TrustStore>> | 
| Key Store a| <<KeyStore>> | 
|======================
    
[[TrustStore]]
=== Trust Store

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Path a| String | 
| Password a| String | 
| Type a| * Enumeration, one of:

** jks
** jceks
** pkcs12
* String | 
| Algorithm a| String | 
| Insecure a| Boolean | 
|======================
    
[[KeyStore]]
=== Key Store

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Path a| String | 
| Type a| * Enumeration, one of:

** jks
** jceks
** pkcs12
* String | 
| Alias a| String | 
| Key Password a| String | 
| Password a| String | 
| Algorithm a| String | 
|======================
    
[[IMAPEmailAttributes]]
=== IMAP Email Attributes

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Bcc Addresses a| Array of String | 
| Cc Addresses a| Array of String | 
| Flags a| <<EmailFlags>> | 
| From Addresses a| Array of String | 
| Headers a| Object | 
| Id a| Number | 
| Number a| Number | 
| Received Date a| DateTime | 
| Reply To Addresses a| Array of String | 
| Sent Date a| DateTime | 
| Subject a| String | 
| To Addresses a| Array of String | 
|======================
    
[[EmailFlags]]
=== Email Flags

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Answered a| Boolean | 
| Deleted a| Boolean | 
| Draft a| Boolean | 
| Recent a| Boolean | 
| Seen a| Boolean | 
|======================
    
[[imap-matcher]]
=== Imap Matcher

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Seen a| Enumeration, one of:

** REQUIRE
** INCLUDE
** EXCLUDE | INCLUDE
| Answered a| Enumeration, one of:

** REQUIRE
** INCLUDE
** EXCLUDE | INCLUDE
| Deleted a| Enumeration, one of:

** REQUIRE
** INCLUDE
** EXCLUDE | INCLUDE
| Recent a| Enumeration, one of:

** REQUIRE
** INCLUDE
** EXCLUDE | INCLUDE
| Received Since a| DateTime | 
| Received Until a| DateTime | 
| Sent Since a| DateTime | 
| Sent Until a| DateTime | 
| Subject Regex a| String | 
| From Regex a| String | 
|======================
    
[[repeatable-in-memory-iterable]]
=== Repeatable In Memory Iterable

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Initial Buffer Size a| Number | 
| Buffer Size Increment a| Number | 
| Max Buffer Size a| Number | 
|======================
    
[[repeatable-file-store-iterable]]
=== Repeatable File Store Iterable

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Max In Memory Size a| Number | 
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | 
|======================
    
[[POP3EmailAttributes]]
=== POP3 Email Attributes

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Bcc Addresses a| Array of String | 
| Cc Addresses a| Array of String | 
| From Addresses a| Array of String | 
| Headers a| Object | 
| Id a| Number | 
| Number a| Number | 
| Received Date a| DateTime | 
| Reply To Addresses a| Array of String | 
| Sent Date a| DateTime | 
| Subject a| String | 
| To Addresses a| Array of String | 
|======================
    
[[pop3-matcher]]
=== Pop3 Matcher

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Received Since a| DateTime | 
| Received Until a| DateTime | 
| Sent Since a| DateTime | 
| Sent Until a| DateTime | 
| Subject Regex a| String | 
| From Regex a| String | 
|======================
    


